# E-R Model & Design

## 1. Introduction

When designing a database, we donâ€™t jump directly to creating tables.
We first **plan the structure** using a **conceptual model**.

The **Entityâ€“Relationship (ER) Model** is a **visual and conceptual tool** to design databases.
It helps in:

* Understanding entities (objects in the system).
* Identifying relationships (how entities are linked).
* Defining attributes (properties of entities).

ðŸ‘‰ ER modeling is the **blueprint** of the database before it is implemented in relational form.

---

## 2. Basic Concepts of ER Model

### 2.1 Entity

* An **entity** is an object in the real world that can be uniquely identified.
* Entities can be **physical (Student, Faculty)** or **abstract (Course, Department)**.

Example (CodingGita DB):

* Student, Faculty, Course, Department are entities.

**Entity Set:** A collection of similar entities.

* Example: All students of CodingGita = Student Entity Set.

---

### 2.2 Attributes

Attributes are **properties that describe entities**.

Types of Attributes:

1. **Simple Attributes** â†’ Cannot be divided further.

   * Example: RollNo, Name, Department.
2. **Composite Attributes** â†’ Can be divided into smaller attributes.

   * Example: Name â†’ (FirstName, LastName).
   * Example: Address â†’ (Street, City, State, Pincode).
3. **Multivalued Attributes** â†’ Can have multiple values.

   * Example: Student.Phone = {98765â€¦, 91234â€¦}.
4. **Derived Attributes** â†’ Can be calculated from other attributes.

   * Example: Age (derived from DOB).

ðŸ‘‰ ER Diagrams usually show:

* Oval â†’ Attribute
* Double oval â†’ Multivalued attribute
* Dashed oval â†’ Derived attribute

---

### 2.3 Keys

Keys are **attributes that uniquely identify entities**.

* **Primary Key:** Unique attribute (RollNo for Student).
* **Candidate Key:** Set of attributes that can uniquely identify (RollNo, or Email).
* **Composite Key:** Combination of two or more attributes (CourseID + FacultyID).
* **Foreign Key:** Attribute linking two entities.

---

### 2.4 Relationships

A **relationship** is an association between entities.

Types:

1. **One-to-One (1:1):** One student â†’ one hostel room.
2. **One-to-Many (1\:N):** One faculty â†’ many students.
3. **Many-to-Many (M\:N):** Many students â†” many courses.

---

## 3. ER Diagram Notations

* Entity â†’ Rectangle
* Weak Entity â†’ Double Rectangle
* Attribute â†’ Oval
* Relationship â†’ Diamond
* Primary Key â†’ Underlined Attribute

---

## 4. ER Model Example â€“ CodingGita Student Database

### Entities:

1. Student(RollNo, Name, Semester, City, Marks)
2. Course(CourseID, Title, Department, Credits)
3. Faculty(FacultyID, Name, Dept, Phone)

### Relationships:

* Student **enrolls** in Course (M\:N).
* Faculty **teaches** Course (1\:N).

### Diagram (Textual Representation)

```
[Student] -----enrolls------< [Course ] >-----teaches-----[Faculty]
   | RollNo (PK)                  | CourseID (PK)             | FacultyID (PK)
   | Name                         | Title                     | Name
   | Semester                     | Department                | Dept
   | City                         | Credits                   | Phone
   | Marks
```

---

## 5. Weak Entities

A **weak entity** is one that **cannot exist without another entity**.
It does not have a primary key of its own.

Example â€“ CodingGita:

* **Exam\_Result** is a weak entity.
* It depends on Student + Course to exist.

**Exam\_Result**(RollNo, CourseID, Marks).

* Here, RollNo and CourseID together form the **composite key**.

Diagram:

```
[Student] -----has----->> [Exam_Result] <<-----belongs-----[Course]
```

---

## 6. Extended ER (EER) Features

1. **Generalization**

   * Combining common entities into a higher-level entity.
   * Example: Student and Faculty generalized into **Person** entity.

2. **Specialization**

   * Breaking an entity into sub-entities.
   * Example: Faculty specialized into **FullTimeFaculty** and **VisitingFaculty**.

3. **Aggregation**

   * Treating a relationship as an entity for further relationships.
   * Example: "Student **enrolls** Course" â†’ This relationship can be linked to **Faculty** (advisor for enrollment).

---

## 7. ER â†’ Relational Schema Conversion

### Step 1: Convert Entities to Tables

* Student(RollNo, Name, Semester, City, Marks, CourseID\*)
* Course(CourseID, Title, Department, Credits, FacultyID\*)
* Faculty(FacultyID, Name, Dept, Phone)

### Step 2: Convert Relationships

* Enrolls(RollNo, CourseID) â†’ M\:N â†’ New relation.
* Teaches(FacultyID, CourseID) â†’ 1\:N â†’ FacultyID is foreign key in Course.

ðŸ‘‰ Final Schema:

1. Student(RollNo, Name, Semester, City, Marks)
2. Course(CourseID, Title, Department, Credits, FacultyID)
3. Faculty(FacultyID, Name, Dept, Phone)
4. Enrolls(RollNo, CourseID)

---

## 8. More Examples for Clarity

### Example 1 â€“ Library Management System

* Entities: Book, Author, Student.
* Relationships: Student issues Book, Author writes Book.
* Weak Entity: Book\_Issue(BookID, RollNo, Date).

---

### Example 2 â€“ Hospital Database

* Entities: Patient, Doctor, Appointment.
* Relationships: Patient visits Doctor, Doctor prescribes Medicine.
* Weak Entity: Prescription(PatientID, DoctorID, Date).

---

### Example 3 â€“ Banking Database

* Entities: Customer, Account, Branch.
* Relationships: Customer owns Account, Account belongs to Branch.
* Weak Entity: Transaction(AccountID, Date, Amount).

---

## 9. Summary

* **Entities** = Real-world objects (Student, Course).
* **Attributes** = Properties (Name, Semester, City).
* **Keys** uniquely identify entities.
* **Relationships** = Associations (enrolls, teaches).
* **Weak entities** depend on strong entities.
* **EER Features:** Generalization, Specialization, Aggregation.
* ER â†’ Relational Schema = converting diagrams into tables with foreign keys.
* Multiple case studies (Education, Library, Banking, Hospital) show ER modeling in action.

---
