
# Constraints & Keys in Relational Model

## 1. Introduction

In a relational database, simply having tables is not enough.
We must **enforce rules** so that data stays:

* **Accurate** (no invalid values).
* **Consistent** (no contradictions).
* **Unique** (no duplicates).
* **Valid according to real-world rules**.

ðŸ‘‰ These rules are called **Constraints**.
ðŸ‘‰ The attributes used to uniquely identify or link tuples are called **Keys**.

---

## 2. Types of Constraints in DBMS

### 2.1 Domain Constraint

* Each attribute must take values from a **valid domain**.
* Example:

  * Marks â†’ Integers between 0 and 100.
  * Semester â†’ {1,2,3,â€¦,8}.
  * City â†’ Valid city names only.

ðŸ‘‰ CodingGita Example:

```
Student(RollNo, Name, City, Semester, Marks)
```

* RollNo must be a positive integer.
* City must come from {Ahmedabad, Surat, Rajkot, Vadodara,â€¦}.

---

### 2.2 Entity Integrity Constraint

* A **Primary Key cannot have NULL values**.
* Ensures each entity is uniquely identifiable.

ðŸ‘‰ Example:

* In `Student(RollNo, Name, City)`, RollNo = Primary Key.
* No two students can have the same RollNo.
* No student can have NULL as RollNo.

---

### 2.3 Referential Integrity Constraint

* A **Foreign Key** in one relation must refer to a valid Primary Key in another.

ðŸ‘‰ Example:

```
Student(RollNo, Name, CourseID)
Course(CourseID, Title, FacultyID)
```

* Student.CourseID is a Foreign Key.
* It must match an existing CourseID in Course table.
* If CourseID = CS999 does not exist in Course, it cannot appear in Student.

---

### 2.4 Key Constraints

* No duplicate tuples allowed.
* Ensures uniqueness within a relation.

ðŸ‘‰ Example:
Two identical rows in Student table cannot exist.

---

### 2.5 General Constraints

* Application-specific rules.
* Example: In CodingGita, *a student cannot enroll in more than 6 courses per semester*.
* Not built-in, must be enforced using **CHECK** constraints or application logic.

---

## 3. Keys in Relational Model

Keys are **special attributes or combinations of attributes** used to identify tuples uniquely.

---

### 3.1 Super Key

* Any set of attributes that uniquely identifies a tuple.
* Example (Student): {RollNo}, {RollNo + Name}, {RollNo + City}.
* RollNo alone is enough, but combinations are also superkeys.

---

### 3.2 Candidate Key

* A **minimal super key** (no extra attributes).
* Example (Student): RollNo, or Email (if unique).
* Candidate Keys = minimal choices for Primary Key.

---

### 3.3 Primary Key

* The **chosen Candidate Key** to uniquely identify tuples.
* Example: RollNo in Student, CourseID in Course.
* Rule: Cannot be NULL, must be unique.

---

### 3.4 Alternate Key

* Candidate Keys **not chosen as Primary Key**.
* Example: If both RollNo and Email are Candidate Keys, and RollNo is chosen as Primary Key â†’ Email becomes Alternate Key.

---

### 3.5 Foreign Key

* Attribute in one relation that refers to Primary Key in another.
* Example: Student.CourseID â†’ references Course.CourseID.
* Maintains **referential integrity**.

---

### 3.6 Composite Key

* Combination of two or more attributes that uniquely identify a tuple.
* Example: Enrollment(RollNo, CourseID, Marks).
* Here RollNo+CourseID together form Composite Primary Key.

---

### 3.7 Unique Key

* Ensures values are unique, but can contain NULL (unlike Primary Key).
* Example: Email in Student table.

---

## 4. CodingGita Example Database with Keys

**Student(RollNo \[PK], Name, City, Semester, Email \[Unique], DeptID \[FK])**
**Course(CourseID \[PK], Title, Credits, DeptID \[FK], FacultyID \[FK])**
**Faculty(FacultyID \[PK], Name, Dept, Phone)**
**Department(DeptID \[PK], DeptName)**
**Enrollment(RollNo \[FK], CourseID \[FK], Marks, \[PK = RollNo+CourseID])**

---

### Explanation:

1. Student.RollNo = Primary Key.
2. Student.Email = Unique Key.
3. Course.CourseID = Primary Key.
4. Enrollment(RollNo, CourseID) = Composite Key.
5. Student.DeptID â†’ Department.DeptID = Foreign Key.
6. Course.FacultyID â†’ Faculty.FacultyID = Foreign Key.

---

## 5. Real-Life Analogy of Keys

* **Super Key** â†’ Like a full name + Aadhaar + phone number (all uniquely identify you).
* **Candidate Key** â†’ Aadhaar OR Passport number (minimal unique IDs).
* **Primary Key** â†’ Aadhaar (chosen unique ID).
* **Alternate Key** â†’ Passport (unused candidate).
* **Foreign Key** â†’ Aadhaar number of your parent stored in family records.
* **Composite Key** â†’ RollNo+CourseID uniquely identifies your grade in that subject.

---

## 6. Summary

* **Constraints** ensure data correctness:

  * Domain, Entity Integrity, Referential Integrity, Key, General Constraints.
* **Keys** uniquely identify tuples and define relationships:

  * Super Key, Candidate Key, Primary Key, Alternate Key, Foreign Key, Composite Key, Unique Key.
* CodingGita example showed how constraints & keys work together in Studentâ€“Courseâ€“Faculty DB.
* Without constraints & keys, databases become inconsistent and unreliable.

---
