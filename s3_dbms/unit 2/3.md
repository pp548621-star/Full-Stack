# Normalization

## 1. Introduction

A well-designed database must be **efficient**, **consistent**, and **free from redundancy**. If data is stored carelessly, we face problems like:

* **Redundancy:** Same student data repeated in multiple rows.
* **Update Anomaly:** Updating one field requires multiple changes.
* **Insertion Anomaly:** Cannot insert a new record unless unrelated data is present.
* **Deletion Anomaly:** Removing one row may unintentionally delete important information.

ðŸ‘‰ **Normalization** is a systematic process of restructuring data into smaller, well-organized tables to eliminate these anomalies.

---

## 2. Functional Dependencies (FD)

A **functional dependency** occurs when one attribute uniquely determines another.

Example (CodingGita):

* RollNo â†’ Name, Semester, City
* CourseID â†’ CourseName, Credits

ðŸ‘‰ Normalization relies heavily on **FDs**.

---

## 3. Normal Forms

### 3.1 First Normal Form (1NF)

**Rule:** All attributes must have **atomic (indivisible)** values.

**Unnormalized Table (UNF):**

| RollNo | Name  | Courses        | Marks    | City      |
| ------ | ----- | -------------- | -------- | --------- |
| 101    | Jenil | {CS101, CS103} | {85, 90} | Ahmedabad |
| 102    | Mahir | {CS102}        | {76}     | Surat     |
| 103    | Arjun | {CS101, CS102} | {92, 81} | Vadodara  |

**Problem:** Courses and Marks are multivalued.

**1NF Conversion:**

| RollNo | Name  | CourseID | Marks | City      |
| ------ | ----- | -------- | ----- | --------- |
| 101    | Jenil | CS101    | 85    | Ahmedabad |
| 101    | Jenil | CS103    | 90    | Ahmedabad |
| 102    | Mahir | CS102    | 76    | Surat     |
| 103    | Arjun | CS101    | 92    | Vadodara  |
| 103    | Arjun | CS102    | 81    | Vadodara  |

âœ… Now values are atomic.

---

### 3.2 Second Normal Form (2NF)

**Rule:** Must be in 1NF, and no **partial dependency** on part of a composite key.

**Problem in 1NF Table:**

* Key = (RollNo, CourseID).
* City depends only on RollNo, not CourseID â†’ partial dependency.

**2NF Conversion:**

1. Student(RollNo, Name, City, Semester)
2. Course(CourseID, Title, Credits)
3. Enrollment(RollNo, CourseID, Marks)

âœ… Student and Course details separated, redundancy reduced.

---

### 3.3 Third Normal Form (3NF)

**Rule:** Must be in 2NF and free from **transitive dependencies**.

**Problem Example:**

* In Student(RollNo, Name, City, DeptName), DeptName depends on DeptID, which in turn depends on RollNo.

**3NF Conversion:**

1. Student(RollNo, Name, City, DeptID)
2. Department(DeptID, DeptName)
3. Course(CourseID, Title, Credits, DeptID)
4. Enrollment(RollNo, CourseID, Marks)

âœ… DeptName stored separately, removing transitive dependency.

---

### 3.4 Boyce-Codd Normal Form (BCNF)

**Rule:** For every FD X â†’ Y, X must be a **superkey**.

**Problem Example:**

* In Course(CourseID, FacultyID), we also know CourseID â†’ FacultyID.
* But CourseID is not always a superkey if multiple faculties exist.

**BCNF Conversion:**

1. Faculty(FacultyID, FacultyName, DeptID)
2. Course(CourseID, Title, Credits, FacultyID)

âœ… Ensures no overlapping candidate keys cause anomalies.

---

### 3.5 Fourth Normal Form (4NF)

**Rule:** Remove **multivalued dependencies**.

**Problem Example:**

| RollNo | Skill  | Hobby    |
| ------ | ------ | -------- |
| 101    | C++    | Cricket  |
| 101    | Java   | Chess    |
| 101    | Python | Painting |

Here, Skills and Hobbies are independent.

**4NF Conversion:**

1. StudentSkills(RollNo, Skill)
2. StudentHobbies(RollNo, Hobby)

âœ… Avoids unnecessary data combinations.

---

## 4. Step-by-Step Case Study (CodingGita DB)

### Step 1: Unnormalized Table

| RollNo | Name  | Courses     | Faculty | City      |
| ------ | ----- | ----------- | ------- | --------- |
| 101    | Jenil | {DBMS, OS}  | Krishna | Ahmedabad |
| 102    | Mahir | {DSA}       | Yashvi  | Surat     |
| 103    | Arjun | {DBMS, DSA} | Krishna | Vadodara  |

### Step 2: 1NF â†’ Break multivalued attributes.

### Step 3: 2NF â†’ Separate Student, Course, Enrollment.

### Step 4: 3NF â†’ Move Dept into separate table.

### Step 5: BCNF & 4NF â†’ Resolve candidate key overlaps, multivalued issues.

**Final Schema:**

1. Student(RollNo, Name, City, Semester, DeptID)
2. Department(DeptID, DeptName)
3. Faculty(FacultyID, FacultyName, DeptID)
4. Course(CourseID, Title, Credits, DeptID, FacultyID)
5. Enrollment(RollNo, CourseID, Marks)
6. StudentSkills(RollNo, Skill)
7. StudentHobbies(RollNo, Hobby)

---

## 5. Quick Extra Examples

* **1NF:** Split phone numbers into separate rows.
* **2NF:** Remove City from (RollNo, CourseID) â†’ City depends only on RollNo.
* **3NF:** DeptName moved to Department table.
* **BCNF:** Every FDâ€™s left side must be a superkey.
* **4NF:** Store Skills and Hobbies separately.

---

## 6. Summary

* **Normalization** is crucial for efficient DB design.
* **1NF:** Atomic values only.
* **2NF:** Remove partial dependencies.
* **3NF:** Remove transitive dependencies.
* **BCNF:** Every FDâ€™s determinant must be a superkey.
* **4NF:** No multivalued dependencies.
* CodingGita example showed how one messy table becomes a set of clean, structured relations.

---
