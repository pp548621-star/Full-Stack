# Variables and Data Types in PL/SQL

## 1. Introduction

* A **variable** in PL/SQL is a **named memory location** that stores a value (number, text, date, etc.).
* Variables make PL/SQL **dynamic** â€” we can store results of queries, calculate values, and pass information between blocks.
* PL/SQL also supports **constants**, which are variables whose values cannot change.

ðŸ‘‰ Example: In CodingGitaâ€™s DB, a variable can hold a **studentâ€™s name**, **marks**, or even **entire row of a table**.

---

## 2. Declaring Variables

Variables are declared in the **DECLARE** section of the block.

### Syntax

```sql
variable_name datatype [NOT NULL] [:= initial_value];
```

### Example

```sql
DECLARE
   student_name VARCHAR2(50);
   student_marks NUMBER(3);
BEGIN
   student_name := 'Mahir';
   student_marks := 85;
   DBMS_OUTPUT.PUT_LINE(student_name || ' scored ' || student_marks || ' marks');
END;
/
```

**Output**

```
Mahir scored 85 marks
```

---

## 3. Constants

* Declared with the keyword **CONSTANT**.
* Must be initialized at the time of declaration.

### Example â€“ Max Semester Constant

```sql
DECLARE
   max_sem CONSTANT NUMBER := 8;
BEGIN
   DBMS_OUTPUT.PUT_LINE('CodingGita B.Tech has ' || max_sem || ' semesters.');
END;
/
```

---

## 4. PL/SQL Data Types

PL/SQL supports many data types:

### 4.1 Scalar Data Types

* **NUMBER(p,s)** â†’ numeric values with precision and scale.
* **VARCHAR2(n)** â†’ variable-length character strings.
* **CHAR(n)** â†’ fixed-length string.
* **DATE** â†’ stores date and time.
* **BOOLEAN** â†’ TRUE/FALSE/NULL.

ðŸ‘‰ Example

```sql
DECLARE
   rollno NUMBER(5);
   name VARCHAR2(50);
   admission_date DATE := SYSDATE;
   is_active BOOLEAN := TRUE;
BEGIN
   DBMS_OUTPUT.PUT_LINE('Admission Date: ' || admission_date);
END;
/
```

---

### 4.2 Anchored Data Types (%TYPE)

* A variable can be declared with the **same datatype as a column** using `%TYPE`.
* Helps avoid mismatch between table columns and PL/SQL variables.

ðŸ‘‰ Example â€“ Use Student.Name datatype for variable

```sql
DECLARE
   v_name Student.Name%TYPE;
BEGIN
   SELECT Name INTO v_name
   FROM Student
   WHERE RollNo = 101;

   DBMS_OUTPUT.PUT_LINE('Student Name: ' || v_name);
END;
/
```

---

### 4.3 Row Types (%ROWTYPE)

* `%ROWTYPE` declares a variable that can hold an entire row from a table.

ðŸ‘‰ Example â€“ Fetch Full Student Row

```sql
DECLARE
   v_student Student%ROWTYPE;
BEGIN
   SELECT * INTO v_student
   FROM Student
   WHERE RollNo = 102;

   DBMS_OUTPUT.PUT_LINE('Roll: ' || v_student.RollNo || 
                        ', Name: ' || v_student.Name || 
                        ', City: ' || v_student.City);
END;
/
```

---

## 5. Variable Assignment

There are two ways to assign values:

1. **Using := Operator** (manual assignment)

```sql
student_name := 'Jenil';
```

2. **Using SELECT INTO** (fetch from table)

```sql
SELECT Name INTO student_name
FROM Student
WHERE RollNo = 103;
```

---

## 6. Examples â€“ Variables in Action

### Example 1 â€“ Arithmetic with Variables

```sql
DECLARE
   marks1 NUMBER := 85;
   marks2 NUMBER := 90;
   total NUMBER;
BEGIN
   total := marks1 + marks2;
   DBMS_OUTPUT.PUT_LINE('Total Marks: ' || total);
END;
/
```

---

### Example 2 â€“ Boolean Variable

```sql
DECLARE
   passed BOOLEAN;
   marks NUMBER := 75;
BEGIN
   passed := (marks >= 40);
   IF passed THEN
      DBMS_OUTPUT.PUT_LINE('Student has passed');
   ELSE
      DBMS_OUTPUT.PUT_LINE('Student has failed');
   END IF;
END;
/
```

---

### Example 3 â€“ Using %TYPE with Course Table

```sql
DECLARE
   v_course Course.Title%TYPE;
BEGIN
   SELECT Title INTO v_course
   FROM Course
   WHERE CourseID = 'CS101';

   DBMS_OUTPUT.PUT_LINE('Course Title: ' || v_course);
END;
/
```

---

### Example 4 â€“ Using %ROWTYPE with Faculty Table

```sql
DECLARE
   v_fac Faculty%ROWTYPE;
BEGIN
   SELECT * INTO v_fac
   FROM Faculty
   WHERE FacultyID = 'F001';

   DBMS_OUTPUT.PUT_LINE('Faculty: ' || v_fac.Name || ', Department: ' || v_fac.Dept);
END;
/
```

---

## 7. Summary

* **Variables** â†’ store values in memory.
* **Constants** â†’ fixed values that cannot change.
* **Data types** â†’ NUMBER, VARCHAR2, DATE, BOOLEAN, etc.
* **%TYPE** â†’ matches datatype of a specific column.
* **%ROWTYPE** â†’ stores a full row of a table.
* **Assignment** can be manual (`:=`) or from a query (`SELECT INTO`).
* Using variables makes PL/SQL **dynamic, reusable, and safe** (avoids datatype mismatch).

---
