# PL/SQL Basics

## 1. What is PL/SQL?

* **PL/SQL (Procedural Language/SQL)** is Oracleâ€™s extension of SQL that adds **programming constructs** (like variables, loops, conditions, and error handling).
* SQL alone is **declarative** (you say *what* you want).
* PL/SQL is **procedural** (you can also say *how* it should be done).

ðŸ‘‰ Think of SQL as **a calculator** â€” you give an expression, it gives an answer.
ðŸ‘‰ PL/SQL is like **a programming language** â€” it can **store values, apply logic, loop through records, handle errors, and call procedures**.

---

## 2. Why PL/SQL?

1. **Combines SQL with programming logic** â†’ Loops, conditions, variables.
2. **Improved performance** â†’ Multiple SQL statements can run in one block.
3. **Security** â†’ Sensitive logic can be stored inside procedures.
4. **Error handling** â†’ Handles exceptions gracefully.
5. **Portability** â†’ Code can run anywhere Oracle PL/SQL is supported.

ðŸ‘‰ In **CodingGita portal**:

* SQL can fetch marks of students.
* But PL/SQL can **loop through all students, calculate percentages, assign grades, and handle errors** (like missing marks).

---

## 3. Structure of a PL/SQL Block

Every PL/SQL program is written as a **block**.
It has **three sections**:

```
DECLARE        -- Optional
   -- Variables, constants, cursors

BEGIN          -- Mandatory
   -- SQL statements, loops, conditions

EXCEPTION      -- Optional
   -- Error handling

END;
```

### Explanation:

1. **DECLARE** â†’ Define variables/constants.
2. **BEGIN** â†’ Main logic (SQL + procedural code).
3. **EXCEPTION** â†’ Error-handling (like try-catch).
4. **END;** â†’ Marks end of block.

---

## 4. First Example â€“ Hello World

```sql
SET SERVEROUTPUT ON;

BEGIN
   DBMS_OUTPUT.PUT_LINE('Hello from CodingGita PL/SQL!');
END;
/
```

**Output**

```
Hello from CodingGita PL/SQL!
```

ðŸ‘‰ `DBMS_OUTPUT.PUT_LINE` is like `printf` in C â€” it prints output.
ðŸ‘‰ `/` is used to execute the block in SQL\*Plus or Oracle tools.

---

## 5. Example with Variables

```sql
SET SERVEROUTPUT ON;

DECLARE
   student_name VARCHAR2(50);
BEGIN
   student_name := 'Jenil';
   DBMS_OUTPUT.PUT_LINE('Welcome, ' || student_name || ' to CodingGita DB!');
END;
/
```

**Output**

```
Welcome, Jenil to CodingGita DB!
```

ðŸ‘‰ Variables are declared in **DECLARE section** and assigned with `:=`.
ðŸ‘‰ `||` is the concatenation operator.

---

## 6. Example with Constants

```sql
SET SERVEROUTPUT ON;

DECLARE
   max_semester CONSTANT INT := 8;
BEGIN
   DBMS_OUTPUT.PUT_LINE('Maximum semesters in CodingGita B.Tech: ' || max_semester);
END;
/
```

**Output**

```
Maximum semesters in CodingGita B.Tech: 8
```

ðŸ‘‰ Constants are declared with **CONSTANT** keyword and cannot be reassigned.

---

## 7. Example with SQL Statement Inside PL/SQL

We can execute SQL inside PL/SQL blocks.

```sql
SET SERVEROUTPUT ON;

DECLARE
   v_name Student.Name%TYPE;
BEGIN
   SELECT Name INTO v_name
   FROM Student
   WHERE RollNo = 101;

   DBMS_OUTPUT.PUT_LINE('Student with RollNo 101 is ' || v_name);
END;
/
```

**Output**

```
Student with RollNo 101 is Jenil
```

ðŸ‘‰ `%TYPE` makes variable type same as column type (Student.Name).
ðŸ‘‰ `SELECT INTO` fetches one row into a variable.

---

## 8. Example â€“ Arithmetic in PL/SQL

```sql
SET SERVEROUTPUT ON;

DECLARE
   marks1 INT := 85;
   marks2 INT := 90;
   total  INT;
BEGIN
   total := marks1 + marks2;
   DBMS_OUTPUT.PUT_LINE('Total Marks = ' || total);
END;
/
```

**Output**

```
Total Marks = 175
```

ðŸ‘‰ Variables can be used in calculations, just like in other programming languages.

---

## 9. Example â€“ PL/SQL Block with Exception Handling

```sql
SET SERVEROUTPUT ON;

DECLARE
   v_marks INT;
BEGIN
   SELECT Marks INTO v_marks
   FROM Enrollment
   WHERE RollNo = 999;  -- Student doesnâ€™t exist

   DBMS_OUTPUT.PUT_LINE('Marks = ' || v_marks);

EXCEPTION
   WHEN NO_DATA_FOUND THEN
      DBMS_OUTPUT.PUT_LINE('No student found with that RollNo');
END;
/
```

**Output**

```
No student found with that RollNo
```

ðŸ‘‰ Exception block handles the error gracefully.

---

## 10. Summary

* **PL/SQL = SQL + Programming Features** (variables, loops, exceptions).
* **Block Structure:** DECLARE, BEGIN, EXCEPTION, END.
* **DBMS\_OUTPUT.PUT\_LINE** â†’ prints results.
* Variables can be declared using datatypes or `%TYPE` for dynamic reference.
* Errors handled using **EXCEPTION** section.

ðŸ‘‰ With PL/SQL, CodingGita DB can automate tasks like **calculating grades, logging transactions, or updating multiple rows in one go**.

---
